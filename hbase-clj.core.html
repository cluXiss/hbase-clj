<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>hbase-clj.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Org.cluxis.hbase-clj</span> <span class="project-version">0.1.0-alpha.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to hbase-clj</span></div></a></li><li class="depth-1 "><a href="tutorial.html"><div class="inner"><span>A Quick Tutorial to hbase-clj</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hbase-clj</span></div></div></li><li class="depth-2 branch"><a href="hbase-clj.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-2 branch current"><a href="hbase-clj.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="hbase-clj.manage.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>manage</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hbase-clj.core.html#var--.3EHBTable-schema"><div class="inner"><span>-&gt;HBTable-schema</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-def-hbtable"><div class="inner"><span>def-hbtable</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-defhbase"><div class="inner"><span>defhbase</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-gen-hbase"><div class="inner"><span>gen-hbase</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-gen-htable"><div class="inner"><span>gen-htable</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-get"><div class="inner"><span>get</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-incr.21"><div class="inner"><span>incr!</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-map-.3EHBTable-schema"><div class="inner"><span>map-&gt;HBTable-schema</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-put.21"><div class="inner"><span>put!</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-scan"><div class="inner"><span>scan</span></div></a></li><li class="depth-1"><a href="hbase-clj.core.html#var-with-table"><div class="inner"><span>with-table</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">hbase-clj.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var--.3EHBTable-schema"><h3>-&gt;HBTable-schema</h3><div class="usage"><code>(-&gt;HBTable-schema hb table-name id-type families)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class hbase_clj.core.HBTable-schema.
</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L36">view source</a></div></div><div class="public anchor" id="var-def-hbtable"><h3>def-hbtable</h3><h4 class="type">macro</h4><div class="usage"><code>(def-hbtable table {:keys [id-type table-name hbase], :or {id-type :string}} &amp; families)</code></div><div class="doc"><pre class="plaintext">defines a htable "schema", 
types could be one of #{:int :long :string :keyword :raw}
and could create custom types via codec.defcodec
families could be like: 

--------------Snippet--------------
...
....
:info {:--ktype :keyword
       :--vtype :string 
       :age :long}

:following {:--ktype :string
            :--vtype :string}
....
...
-----------------------------------

where `--ktype` means the type of all keys in the family, default as `:keyword`
`--vtype` means the default type of values in the family, default as `string`
and other k-v stands for a specified value type given a key, instead of the `--vtype`</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L47">view source</a></div></div><div class="public anchor" id="var-defhbase"><h3>defhbase</h3><h4 class="type">macro</h4><div class="usage"><code>(defhbase name &amp; options)</code></div><div class="doc"><pre class="plaintext">Defines a HBase Connection config with specified var name according to the options, 
params should be pairs, e.g: 
(defhbase main-hb
  "hbase.zookeeper.quorum" "localhost"
  ...
  ...)</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L25">view source</a></div></div><div class="public anchor" id="var-gen-hbase"><h3>gen-hbase</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L23">view source</a></div></div><div class="public anchor" id="var-gen-htable"><h3>gen-htable</h3><div class="usage"><code>(gen-htable table-name {:keys [id-type hbase]} &amp; families)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L39">view source</a></div></div><div class="public anchor" id="var-get"><h3>get</h3><div class="usage"><code>(get &amp; rows)</code></div><div class="doc"><pre class="plaintext">Get from HBase Table according to specified ids
Should only be called inside `with-table`
--------------------
usage:
(get id|attrs id|attrs ....)
(get :with-versions ...)

id|attrs could be id or a pair like vec: [id attrs]
which attrs should be a hash-map of {family-&gt; col/cols}
col/cols could either be a col, a vector of cols or :* which stands for all cols

e.g: 
--------------------
(get "001" 
     ["002" {:info :*}]
     ["003" {:info [:age :name] :follow :*}]
    ....)
--------------------

Returns a seq of vec: [id, record]
where every record as: {family-&gt; {col-&gt; val}}
if passed `:with-versions` as the first arg, val would be a coll of {:val xxx :timestamp xxx}</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L111">view source</a></div></div><div class="public anchor" id="var-incr.21"><h3>incr!</h3><div class="usage"><code>(incr! &amp; rows)</code></div><div class="doc"><pre class="plaintext">Make atomic incrementations on certain row-family-col-s inside an HBase Table
Should only be called inside `with-table`
--------------------
usage: 
(incr! [id, attrs] [id, attrs] ....)
attrs should be a hash-map of {family-&gt; {col-&gt; val}}</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L231">view source</a></div></div><div class="public anchor" id="var-map-.3EHBTable-schema"><h3>map-&gt;HBTable-schema</h3><div class="usage"><code>(map-&gt;HBTable-schema m__6522__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class hbase_clj.core.HBTable-schema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L36">view source</a></div></div><div class="public anchor" id="var-put.21"><h3>put!</h3><div class="usage"><code>(put! &amp; records)</code></div><div class="doc"><pre class="plaintext">Put into HBase Table
Should only be called inside `with-table`
--------------------
usage: 
(put! [id, attrs] [id, attrs] ....)
attrs should be a hashmap of {family-&gt; {col-&gt; val}}</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L97">view source</a></div></div><div class="public anchor" id="var-scan"><h3>scan</h3><div class="usage"><code>(scan &amp; args)</code></div><div class="doc"><pre class="plaintext">Scan inside HBase Table according to certain rules
Should only be called inside `with-table`
--------------------
usage:
(scan &amp; options)
(scan :with-versions &amp; options)
options could contain these keys:
  - :eager?       If set to true, return a vector similar to the result of `get`, if false, returns a lazy seq to fetch results later.
  - :start-id     The ID the htable-scan starts from (including)
  - :stop-id      The ID the htable-scan stops at (non-including)
  - :cache-size   The number of rows fetched when getting a "next" item, only takes effect when `eager?` is set to false
  - :small?       Determine if this is a "small" scan, see: <a href="https://hbase.apache.org/0.94/apidocs/org/apache/hadoop/hbase/client/Scan.html#setSmall(boolean)">https://hbase.apache.org/0.94/apidocs/org/apache/hadoop/hbase/client/Scan.html#setSmall(boolean)</a>
  - :max-versions The max version to fetch on each record
  - :time-range   The time-range to fetch on each record
  - :attrs        Same as the definition of `&lt;attrs&gt;` in `(get ..)`</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L148">view source</a></div></div><div class="public anchor" id="var-with-table"><h3>with-table</h3><h4 class="type">macro</h4><div class="usage"><code>(with-table table &amp; form)</code></div><div class="doc"><pre class="plaintext">Performs all operations inside the specified table and the close the table
`table` should be an HBTable-schema generated by `def-hbtable`</pre></div><div class="src-link"><a href="https://github.com/cluXiss/hbase-clj/blob/master/src/hbase_clj/core.clj#L80">view source</a></div></div></div></body></html>